<nx12-header [logoutButton]='true' title='ADMIN_NAV.MIRROR_MANAGEMENT'></nx12-header>


<ion-content>
    <p-table #dt1 [value]='(filteredMirrorWords$ | async)!' responsiveLayout='scroll' styleClass='p-datatable-striped'>
        <ng-template pTemplate='caption'>
            <div class='flex'>
                <span class='p-input-icon-left ml-auto'>
                    <i class='pi pi-search'></i>
                    <input #searchInput (input)='filter(searchInput)' pInputText
                           placeholder="{{ 'MIRROR_LIST.SEARCH_BY_TEXT' | translate}}" type='text' maxlength="80" />
                </span>
                <p-button (click)='clear(searchInput)' [disabled]='!searchInput.value' styleClass='p-button-primary'
                        icon='pi pi-{{ NG_ICON.filterSlash }}' label="{{ 'MIRROR_LIST.CLEAR' | translate}}"></p-button>
                <p-button (click)='openAddDialogue()' styleClass='p-button-success'
                        icon='pi pi-{{ NG_ICON.plusCircle }}' label=''></p-button>
            </div>
        </ng-template>
        <ng-template let-word pTemplate='body'>
            <tr>
                <td>{{word.word}}</td>
                <td>
                    <p-button (click)='openEditDialogue(word)' styleClass='p-button-primary'
                            icon='pi pi-{{ NG_ICON.pencil }}' label=''></p-button>
                    <p-button (click)='deleteWord(word)' styleClass='p-button-danger'
                            icon='pi pi-{{ NG_ICON.trash }}' label=''></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</ion-content>

<p-dialog [(visible)]='dialog' [draggable]='false' [modal]='true' [resizable]='false' [closable]='false' [style]="{maxWidth: '600px'}"
          header="{{ ('MIRROR_LIST.' + dialog?.toUpperCase()) | translate }}" position='bottom'>
    <div class='p-grid'>
        <div class='p-col-12'>
            <input [(ngModel)]='wordUnderEdit' [placeholder]="'MIRROR_LIST.EXAMPLE' | translate" [required]='true' name='word'
                   pInputText type='text' maxlength="80" />
        </div>
    </div>
    <ng-template pTemplate='footer'>
        <p-button (click)='save()' [disabled]='!wordUnderEdit' icon='pi pi-check'
                  label="{{ 'MIRROR_LIST.SAVE' | translate}}" styleClass='p-button-success'></p-button>
        <p-button (click)='closeDialogue()' icon='pi pi-{{NG_ICON.times}}' label="{{ 'primeng.cancel' | translate }}"
                  styleClass='p-button-danger'></p-button>
    </ng-template>
</p-dialog>
